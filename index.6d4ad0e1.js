function t(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(t){return t&&t.__esModule?t.default:t}var r={},i={},s=e.parcelRequire2a8d;null==s&&((s=function(t){if(t in r)return r[t].exports;if(t in i){var e=i[t];delete i[t];var n={id:t,exports:{}};return r[t]=n,e.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){i[t]=e},e.parcelRequire2a8d=s),s.register("kyEFX",(function(e,n){var r,i;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var s={};r=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)s[e[n]]=t[e[n]]},i=function(t){var e=s[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),s("kyEFX").register(JSON.parse('{"5ZPII":"index.6d4ad0e1.js","eWekd":"on-repeat.14de760f.mp3","k6Ctw":"save-tonight.dc9fb2b6.mp3","6SKyf":"sugar.5412f714.mp3","9zGGZ":"unforgettable.b6f05091.mp3","3pz1T":"willst-du.ec147ed3.mp3","30Ti2":"wrong.e9b8de56.mp3"}'));class o{updateTime(){const t=new Date;return this.refs.time.textContent=t.toLocaleTimeString(this.locale,this.timeOptions),this.refs.date.textContent=t.toLocaleDateString(this.locale,this.dateOptions),this.getTimeOfDay(t)}getTimeOfDay(t){const e=t.getHours();return e>=6&&e<=11?"morning":e>=12&&e<=17?"afternoon":e>=18&&e<=23?"evening":e>=0&&e<=5?"night":void 0}getRefs(t){const e=document.querySelector(t);return{time:e.querySelector(".clock__time"),date:e.querySelector(".clock__date")}}constructor(t){this.refs=this.getRefs(t),this.locale="en-GB",this.timeOptions={hour12:!1},this.dateOptions={weekday:"long",day:"2-digit",month:"long",year:"numeric"}}}class a{getName(){return this.refs.input.value.trim()}updateText(t){this.refs.text.textContent=`Good ${t},`}setInputWidth(){const t=this.getName();this.refs.test.textContent=t||this.refs.input.placeholder,this.refs.input.style.width=this.refs.test.offsetWidth+"px"}bindEvents(){this.refs.input.addEventListener("input",this.setInputWidth.bind(this))}getRefs(t){const e=document.querySelector(t);return{text:e.querySelector(".greet__text"),input:e.querySelector(".greet__input"),test:e.querySelector(".greet__test")}}constructor(t,e){this.refs=this.getRefs(t),this.refs.input.value=e||"",this.setInputWidth(),this.bindEvents()}}var u={},c=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,p="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,y=p||m||Function("return this")(),v=Object.prototype.toString,g=Math.max,b=Math.min,w=function(){return y.Date.now()};function S(t,e,n){var r,i,s,o,a,u,c=0,l=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,s=i;return r=i=void 0,c=e,o=t.apply(s,n)}function p(t){return c=t,a=setTimeout(y,e),l?d(t):o}function m(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=s}function y(){var t=w();if(m(t))return v(t);a=setTimeout(y,function(t){var n=e-(t-u);return h?b(n,s-(t-c)):n}(t))}function v(t){return a=void 0,f&&r?d(t):(r=i=void 0,o)}function S(){var t=w(),n=m(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return p(u);if(h)return a=setTimeout(y,e),d(u)}return void 0===a&&(a=setTimeout(y,e)),o}return e=x(e)||0,_(n)&&(l=!!n.leading,s=(h="maxWait"in n)?g(x(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),S.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},S.flush=function(){return void 0===a?o:v(w())},S}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function x(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==v.call(t)}(t))return NaN;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=h.test(t);return n||f.test(t)?d(t.slice(2),n?2:8):l.test(t)?NaN:+t}u=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return _(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),S(t,e,{leading:r,maxWait:e,trailing:i})};class j{setRange(t,e,n=0){this.refs.input.min=t,this.refs.input.max=e,this.setValue(n)}setValue(t){this.refs.input.value=t}getValue(){return this.refs.input.value}onInput(t){this.onInputCallback&&this.onInputCallback(t.target.value)}bindEvents(){this.refs.input.addEventListener("input",u(this.onInput.bind(this),100))}getRefs(t){return{input:document.querySelector(t).querySelector(".range__input")}}constructor({rootSelector:t,onInputCallback:e,min:n=0,max:r=100,value:i=0}){this.refs=this.getRefs(t),this.onInputCallback=e,this.setRange(n,r,i),this.bindEvents()}}var E;E=new URL(s("kyEFX").resolve("eWekd"),import.meta.url).toString();var T;T=new URL(s("kyEFX").resolve("k6Ctw"),import.meta.url).toString();var q;q=new URL(s("kyEFX").resolve("6SKyf"),import.meta.url).toString();var R;R=new URL(s("kyEFX").resolve("9zGGZ"),import.meta.url).toString();var k;k=new URL(s("kyEFX").resolve("3pz1T"),import.meta.url).toString();var C;C=new URL(s("kyEFX").resolve("30Ti2"),import.meta.url).toString();var O=[{author:"Robin Schulz",title:"On Repeat",src:n(E)},{author:"Robin Schulz",title:"Unforgettable",src:n(R)},{author:"Robin Schulz",title:"Save Tonight",src:n(T)},{author:"Robin Schulz",title:"Wrong",src:n(C)},{author:"Robin Schulz",title:"Willst Du",src:n(k)},{author:"Robin Schulz",title:"Sugar",src:n(q)}],I={},B=17976931348623157e292,L=/^\s+|\s+$/g,N=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,$=/^\[object .+?Constructor\]$/,W=/^0o[0-7]+$/i,D=/^(?:0|[1-9]\d*)$/,H="[\ud800-\udfff]",A="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",M="[^\ud800-\udfff]",F="(?:\ud83c[\udde6-\uddff]){2}",V="[\ud800-\udbff][\udc00-\udfff]",P="(?:"+A+"|\ud83c[\udffb-\udfff])"+"?",Q="[\\ufe0e\\ufe0f]?"+P+("(?:\\u200d(?:"+[M,F,V].join("|")+")[\\ufe0e\\ufe0f]?"+P+")*"),z="(?:"+[M+A+"?",A,F,V,H].join("|")+")",G=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+z+Q,"g"),X=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Z=parseInt,J="object"==typeof e&&e&&e.Object===Object&&e,K="object"==typeof self&&self&&self.Object===Object&&self,Y=J||K||Function("return this")();function tt(t,e){return function(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(e,(function(e){return t[e]}))}function et(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function nt(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function rt(t){return function(t){return X.test(t)}(t)?function(t){return t.match(G)||[]}(t):function(t){return t.split("")}(t)}var it,st,ot,at=Function.prototype,ut=Object.prototype,ct=Y["__core-js_shared__"],lt=(it=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+it:"",ht=at.toString,ft=ut.hasOwnProperty,dt=ut.toString,pt=RegExp("^"+ht.call(ft).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Y.Symbol,yt=mt?mt.iterator:void 0,vt=ut.propertyIsEnumerable,gt=Math.floor,bt=(st=Object.keys,ot=Object,function(t){return st(ot(t))}),wt=Math.random,St=Nt(Y,"DataView"),_t=Nt(Y,"Map"),xt=Nt(Y,"Promise"),jt=Nt(Y,"Set"),Et=Nt(Y,"WeakMap"),Tt=Wt(St),qt=Wt(_t),Rt=Wt(xt),kt=Wt(jt),Ct=Wt(Et);function Ot(t,e){var n=Ht(t)||function(t){return function(t){return Vt(t)&&At(t)}(t)&&ft.call(t,"callee")&&(!vt.call(t,"callee")||"[object Arguments]"==dt.call(t))}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var s in t)!e&&!ft.call(t,s)||i&&("length"==s||$t(s,r))||n.push(s);return n}function It(t){if(!Ft(t)||function(t){return!!lt&&lt in t}(t))return!1;var e=Mt(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?pt:$;return e.test(Wt(t))}function Bt(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||ut,e!==r)return bt(t);var e,n,r,i=[];for(var s in Object(t))ft.call(t,s)&&"constructor"!=s&&i.push(s);return i}function Lt(t,e){return t+gt(wt()*(e-t+1))}function Nt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return It(n)?n:void 0}var Ut=function(t){return dt.call(t)};function $t(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||D.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t){if(null!=t){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e,n){var r,i,s,o=-1,a=function(t){if(!t)return[];if(At(t))return function(t){return"string"==typeof t||!Ht(t)&&Vt(t)&&"[object String]"==dt.call(t)}(t)?rt(t):function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);if(yt&&t[yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[yt]());var e=Ut(t);return("[object Map]"==e?et:"[object Set]"==e?nt:Pt)(t)}(t),u=a.length,c=u-1;for((n?function(t,e,n){if(!Ft(n))return!1;var r=typeof e;return!!("number"==r?At(n)&&$t(e,n.length):"string"==r&&e in n)&&function(t,e){return t===e||t!=t&&e!=e}(n[e],t)}(t,e,n):void 0===e)?e=1:(r=function(t){var e=function(t){return t?1/0===(t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||Vt(t)&&"[object Symbol]"==dt.call(t)}(t))return NaN;if(Ft(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ft(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(L,"");var n=U.test(t);return n||W.test(t)?Z(t.slice(2),n?2:8):N.test(t)?NaN:+t}(t))||-1/0===t?(t<0?-1:1)*B:t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(e),i=0,s=u,r==r&&(void 0!==s&&(r=r<=s?r:s),void 0!==i&&(r=r>=i?r:i)),e=r);++o<e;){var l=Lt(o,c),h=a[l];a[l]=a[o],a[o]=h}return a.length=e,a}(St&&"[object DataView]"!=Ut(new St(new ArrayBuffer(1)))||_t&&"[object Map]"!=Ut(new _t)||xt&&"[object Promise]"!=Ut(xt.resolve())||jt&&"[object Set]"!=Ut(new jt)||Et&&"[object WeakMap]"!=Ut(new Et))&&(Ut=function(t){var e=dt.call(t),n="[object Object]"==e?t.constructor:void 0,r=n?Wt(n):void 0;if(r)switch(r){case Tt:return"[object DataView]";case qt:return"[object Map]";case Rt:return"[object Promise]";case kt:return"[object Set]";case Ct:return"[object WeakMap]"}return e});var Ht=Array.isArray;function At(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Mt(t)}function Mt(t){var e=Ft(t)?dt.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}function Ft(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Vt(t){return!!t&&"object"==typeof t}function Pt(t){return t?tt(t,function(t){return At(t)?Ot(t):Bt(t)}(t)):[]}I=function(t){return Dt(t,4294967295)};class Qt{setDuration(t){const e=this.audio.duration?this.audio.duration:0;this.audio.currentTime=e*t/100,this.renderDurationTime()}renderDurationTime(){const t=this.audio.currentTime?this.audio.currentTime:0,e=this.audio.duration?this.audio.duration:0,n=Math.floor(t%60),r=Math.floor(t/60),i=Math.floor(e%60),s=Math.floor(e/60);this.refs.currentTime.textContent=`${r}:${n.toString().padStart(2,"0")}`,this.refs.durationTime.textContent=`${s}:${i.toString().padStart(2,"0")}`,this.durationControl.setValue(e?Math.floor(100*t/e):0)}onPlayStarted(t){}setVolume(t){this.audio.volume=t/100,this.setVolumeIcon()}playPrev(){this.currentSong=this.currentSong<=0?this.songs.length-1:this.currentSong-1,this.audio.src=this.songs[this.currentSong].src,this.audio.currentTime=0,this.refs.playBtn.dataset.action="play",this.playAudio(),this.refs.prevBtn.blur()}playNext(){this.currentSong=(this.currentSong+1)%this.songs.length,this.audio.src=this.songs[this.currentSong].src,this.audio.currentTime=0,this.refs.playBtn.dataset.action="play",this.playAudio(),this.refs.nextBtn.blur()}playAudio(){"play"===this.refs.playBtn.dataset.action?(this.audio.play(),this.refs.playBtn.dataset.action="pause"):(this.refs.playBtn.dataset.action="play",this.audio.pause()),this.setActiveSong(),this.refs.playBtn.blur()}setActiveSong(){const t=this.refs.songsList.querySelector(".player__song--active");t&&t.classList.remove("player__song--active"),this.refs.songsList.children[this.currentSong].classList.add("player__song--active")}renderSongsList(){const t=this.songs.map((({title:t})=>`\n        <li class="player__song">${t}</li>`)).join("\n");this.refs.songsList.innerHTML=t}setVolumeIcon(){const t=this.volumeControl.getValue();let e;e=t>66?"high-volume":t>33?"mid-volume":t>0?"low-volume":"mute-volume",this.refs.volumeBtn.dataset.icon=e}onVolumeClick(){const t=this.volumeControl.getValue()>0?0:50;this.volumeControl.setValue(t),this.setVolume(t)}bindEvents(){this.refs.playBtn.addEventListener("click",this.playAudio.bind(this)),this.refs.prevBtn.addEventListener("click",this.playPrev.bind(this)),this.refs.nextBtn.addEventListener("click",this.playNext.bind(this)),this.refs.volumeBtn.addEventListener("click",this.onVolumeClick.bind(this)),this.audio.addEventListener("canplay",this.onPlayStarted.bind(this)),this.audio.addEventListener("ended",this.playNext.bind(this))}getRefs(t){const e=document.querySelector(t);return{playBtn:e.querySelector('[data-action="play"]'),prevBtn:e.querySelector('[data-action="prev"]'),nextBtn:e.querySelector('[data-action="next"]'),volumeBtn:e.querySelector(".player__volume-controls .button"),currentTime:e.querySelector(".player__duration-controls > .player__duration-time:first-of-type"),durationTime:e.querySelector(".player__duration-controls > .player__duration-time:last-of-type"),songsList:e.querySelector(".player__list")}}constructor(t){this.refs=this.getRefs(t),this.audio=new Audio,this.songs=I(O),this.currentSong=0,this.audio.src=this.songs[this.currentSong].src,this.volumeControl=new j({rootSelector:".player__volume-controls .range",onInputCallback:this.setVolume.bind(this)}),this.volumeControl.setValue(50),this.setVolume(50),this.durationControl=new j({rootSelector:".player__duration-controls .range",onInputCallback:this.setDuration.bind(this)}),this.durationControl.setRange(0,this.audio.duration),this.setDuration(0),this.renderSongsList(),this.setActiveSong(),this.bindEvents()}}class zt{onButtonClick(t){this.lastUpdateTime=0,this.updateQuote(),this.refs.button.blur()}async fetchQuotes(){const t=await fetch(this.url),e=await t.json();this.quotes=e}getRandomQuote(){return this.quotes[Math.ceil(Math.random()*this.quotes.length)]}updateQuote(){if(!this.quotes)return;if(Date.now()-this.lastUpdateTime<this.updateInterval)return;this.lastUpdateTime=Date.now();const{quote:t,author:e}=this.getRandomQuote();this.refs.text.textContent=t,this.refs.author.textContent=e}getRefs(t){const e=document.querySelector(t);return{button:e.querySelector(".quote__button"),text:e.querySelector(".quote__text"),author:e.querySelector(".quote__author")}}constructor(t,e){this.refs=this.getRefs(t),this.url="quotes.json",this.quotes=null,this.lastUpdateTime=0,this.updateInterval=6e4*e,this.refs.button.addEventListener("click",this.onButtonClick.bind(this)),this.fetchQuotes()}}const Gt={morning:"sunrise landscape",afternoon:"sunny day landscape",evening:"sunset landscape",night:"night landscape"};class Xt{getRefs(t){const e=document.querySelector(t),[n,r]=e.querySelectorAll(".slider__button");return{bg:document.querySelector(".slider__bg"),prevBtn:n,nextBtn:r}}addHandlers(){this.refs.prevBtn.addEventListener("click",this.prevHandler),this.refs.nextBtn.addEventListener("click",this.nextHandler)}removeHandlers(){this.refs.prevBtn.removeEventListener("click",this.prevHandler),this.refs.nextBtn.removeEventListener("click",this.nextHandler)}setPrevBg(){this.removeHandlers(),this.setPrevNum(),this.setBg(),this.refs.prevBtn.blur()}setNextBg(){this.removeHandlers(),this.setNextNum(),this.setBg(),this.refs.nextBtn.blur()}updateBg(t){this.timeOfDay!==t&&(this.timeOfDay=t,this.lastUpdateTime=0),Date.now()-this.lastUpdateTime<this.updateInterval||(this.setBg(),this.lastUpdateTime=Date.now())}async setBg(){const t=new Image;t.src=await this.getUnsplashUrl(),t.addEventListener("load",(()=>this.refs.bg.style.backgroundImage=`url('${t.src}')`))}setPrevNum(){return this.slideNum=this.slideNum<=1?this.slidesQty:this.slideNum-1}setNextNum(){return this.slideNum=this.slideNum++%this.slidesQty+1}async getRsUrl(){return`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${this.timeOfDay}/${this.slideNum.toString().padStart(2,"0")}.jpg`}async getUnsplashUrl(){const t=new URLSearchParams({orientation:"landscape",client_id:"GLvO30R_mbNR5Qf1kAG2O2PmBiHVjDg5JQ5y836_iWg",query:Gt[this.timeOfDay]}),e=await fetch("https://api.unsplash.com/photos/random?"+t.toString());return 200===e.status?(await e.json()).urls.full:this.getRsUrl()}constructor(t,e){this.refs=this.getRefs(t),this.slidesQty=20,this.slideNum=Math.floor(Math.random()*this.slidesQty+1),this.lastUpdateTime=0,this.updateInterval=6e4*e,this.prevHandler=this.setPrevBg.bind(this),this.nextHandler=this.setNextBg.bind(this),this.addHandlers(),this.refs.bg.addEventListener("transitionend",(()=>this.addHandlers()))}}var Zt={},Jt=/^\s+|\s+$/g,Kt=/^[-+]0x[0-9a-f]+$/i,Yt=/^0b[01]+$/i,te=/^0o[0-7]+$/i,ee=parseInt,ne="object"==typeof e&&e&&e.Object===Object&&e,re="object"==typeof self&&self&&self.Object===Object&&self,ie=ne||re||Function("return this")(),se=Object.prototype.toString,oe=Math.max,ae=Math.min,ue=function(){return ie.Date.now()};function ce(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function le(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==se.call(t)}(t))return NaN;if(ce(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ce(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Jt,"");var n=Yt.test(t);return n||te.test(t)?ee(t.slice(2),n?2:8):Kt.test(t)?NaN:+t}Zt=function(t,e,n){var r,i,s,o,a,u,c=0,l=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,s=i;return r=i=void 0,c=e,o=t.apply(s,n)}function p(t){return c=t,a=setTimeout(y,e),l?d(t):o}function m(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=s}function y(){var t=ue();if(m(t))return v(t);a=setTimeout(y,function(t){var n=e-(t-u);return h?ae(n,s-(t-c)):n}(t))}function v(t){return a=void 0,f&&r?d(t):(r=i=void 0,o)}function g(){var t=ue(),n=m(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return p(u);if(h)return a=setTimeout(y,e),d(u)}return void 0===a&&(a=setTimeout(y,e)),o}return e=le(e)||0,ce(n)&&(l=!!n.leading,s=(h="maxWait"in n)?oe(le(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f),g.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},g.flush=function(){return void 0===a?o:v(ue())},g};class he{async updateWeather(){if(Date.now()-this.lastUpdateTime<this.updateInterval)return;const t=await this.fetchWeather();this.lastUpdateTime=Date.now(),t?200===t.cod?this.renderWeather(t):this.clearWeather(t):this.clearWeather()}getCity(){return this.refs.input.value.trim()}async fetchWeather(){const t=this.getCity();this.apiUrl.searchParams.set("q",t||"Minsk");const e=await fetch(this.apiUrl);return await e.json()}renderWeather(t){this.refs.icon.className=`weather__icon owf owf-lg owf-${t.weather[0].id}`,this.refs.temperature.textContent=`${t.main.temp.toFixed(0)}Â°C`,this.refs.description.textContent=t.weather[0].description,this.refs.wind.textContent=`${t.wind.speed.toFixed(0)} m/s`,this.refs.humidity.textContent=`${t.main.humidity.toFixed(0)} %`,this.refs.mainInfo.display="block",this.refs.addInfo.display="block"}clearWeather(t){this.refs.icon.className="weather__icon owf",this.refs.temperature.textContent="",this.refs.wind.textContent="",this.refs.humidity.textContent="",this.refs.mainInfo.display="none",this.refs.addInfo.display="none",this.refs.description.textContent=t?t.message:""}setInputWidth(){const t=this.refs.input.value.trim();this.refs.test.textContent=t?this.refs.input.value:this.refs.input.placeholder,this.refs.input.style.width=this.refs.test.offsetWidth+"px"}onCityChange(t){this.lastUpdateTime=0,this.updateWeather()}bindEvents(){this.refs.input.addEventListener("input",Zt(this.onCityChange.bind(this),1e3)),this.refs.input.addEventListener("input",this.setInputWidth.bind(this))}getRefs(t){const e=document.querySelector(t);return{input:e.querySelector(".weather__input"),mainInfo:e.querySelector(".weather__main-info"),icon:e.querySelector(".weather__icon"),temperature:e.querySelector(".weather__temperature"),description:e.querySelector(".weather__description"),addInfo:e.querySelector(".weather__add-info"),wind:e.querySelector(".weather__wind"),humidity:e.querySelector(".weather__humidity"),test:e.querySelector(".weather__test")}}constructor(t,e,n){this.refs=this.getRefs(t),this.refs.input.value=e||"",this.apiUrl=new URL("https://api.openweathermap.org/data/2.5/weather"),this.apiUrl.searchParams.set("appid","4a406d43d5aad2dbfda3cb2d7cd48b00"),this.apiUrl.searchParams.set("units","metric"),this.lastUpdateTime=0,this.updateInterval=6e4*n,this.setInputWidth(),this.bindEvents()}}new class{init(){const{name:t,city:e}=this.getSavedValues();this.clock=new o(".clock"),this.greet=new a(".greet",t),this.slider=new Xt(".slider",60),this.weather=new he(".weather",e,30),this.quote=new zt(".quote",60),this.player=new Qt(".player"),this.updateInfo()}bindEvents(){window.onload=this.init.bind(this),window.setInterval(this.updateInfo.bind(this),1e3),window.addEventListener("beforeunload",this.saveValues.bind(this))}updateInfo(){const t=this.clock.updateTime();this.greet.updateText(t),this.slider.updateBg(t),this.weather.updateWeather(),this.quote.updateQuote(),this.player.renderDurationTime()}saveValues(){const t=this.greet.getName(),e=this.weather.getCity();window.localStorage.setItem("name",t),window.localStorage.setItem("city",e)}getSavedValues(){return{city:window.localStorage.getItem("city"),name:window.localStorage.getItem("name")}}constructor(){this.bindEvents()}};
//# sourceMappingURL=index.6d4ad0e1.js.map
